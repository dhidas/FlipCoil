record(motor, "$(SYS){$(DEV)-Ax:X}-Mtr") {
  field(DTYP, "asynMotor")
  field(OUT, "@asyn(PMAC1CS3,0)")
  field(EGU, "mm")
  field(DESC, "X axis")
  field(MRES, "0.001")
  field(RTRY, "0")
  field(NTM, "NO")
  field(HLM, "50")
  field(LLM, "-50")
  field(DHLM, "50")
  field(DLLM, "-50")
  #field(VELO, "100")
  #field(ACCL, "100000")
  field(PREC, "3")
}
record(motor, "$(SYS){$(DEV)-Ax:Xo}-Mtr") {
  field(DTYP, "asynMotor")
  field(OUT, "@asyn(PMAC1CS3,1)")
  field(EGU, "mm")
  field(DESC, "X Yaw")
  field(MRES, "0.001")
  field(RTRY, "0")
  field(NTM, "NO")
  field(HLM, "10")
  field(LLM, "-10")
  field(DHLM, "10")
  field(DLLM, "-10")
  field(PREC, "3")
}
record(motor, "$(SYS){$(DEV)-Ax:Y}-Mtr") {
  field(DTYP, "asynMotor")
  field(OUT, "@asyn(PMAC1CS4,0)")
  field(EGU, "mm")
  field(DESC, "Y axis")
  field(MRES, "0.001")
  field(RTRY, "0")
  field(NTM, "NO")
  field(HLM, "5")
  field(LLM, "-5")
  field(DHLM, "5")
  field(DLLM, "-5")
  field(PREC, "3")
}
record(motor, "$(SYS){$(DEV)-Ax:Yo}-Mtr") {
  field(DTYP, "asynMotor")
  field(OUT, "@asyn(PMAC1CS4,1)")
  field(EGU, "mm")
  field(DESC, "Y pitch")
  field(MRES, "0.001")
  field(RTRY, "0")
  field(NTM, "NO")
  field(HLM, "4")
  field(LLM, "-4")
  field(DHLM, "4")
  field(DLLM, "-4")
  field(PREC, "3")
}
record(motor, "$(SYS){$(DEV)-Ax:R}-Mtr") {
  field(DTYP, "asynMotor")
  field(OUT, "@asyn(PMAC1CS5,0)")
  field(EGU, "deg")
  field(DESC, "Rotary")
  field(MRES, "0.0001")
  field(RTRY, "0")
  field(NTM, "NO")
  field(HLM, "360")
  field(LLM, "-360")
  field(DHLM, "360")
  field(DLLM, "-360")
  #field(VELO, "100")
  #field(ACCL, "100000")
  field(PREC, "2")
}

record(motor, "$(SYS){$(DEV)-Ax:Ro}-Mtr") {
  field(DTYP, "asynMotor")
  field(OUT, "@asyn(PMAC1CS5,1)")
  field(EGU, "deg")
  field(DESC, "Rotary")
  field(MRES, "0.0001")
  field(RTRY, "0")
  field(NTM, "NO")
  field(HLM, "360")
  field(LLM, "-360")
  field(DHLM, "360")
  field(DLLM, "-360")
  #field(VELO, "100")
  #field(ACCL, "100000")
  field(PREC, "2")
}



record(ai, "$(SYS){$(DEV)-Ax:X}-StepsPerUnit-SP") {
  field(DESC, "Steps per mm")
  field(EGU,  "step/mm")
  field(VAL,  "1000")
  field(FLNK, "$(SYS){$(DEV)-Ax:X}-MRES-Calc")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(calcout, "$(SYS){$(DEV)-Ax:X}-MRES-Calc") {
  field(INPA, "$(SYS){$(DEV)-Ax:X}-StepsPerUnit-SP")
  field(CALC, "1 / A")
  field(OUT,  "$(SYS){$(DEV)-Ax:X}-MRES PP")
}
record(dfanout, "$(SYS){$(DEV)-Ax:X}-MRES") {
  field(DESC, "MRES resolution X motors")
  field(SELM, "All")
  field(OUTA, "$(SYS){$(DEV)-Ax:X+}-Mtr.MRES NPP")
  field(OUTB, "$(SYS){$(DEV)-Ax:X-}-Mtr.MRES NPP")
  field(OUTC, "$(SYS){$(DEV)-Ax:X}-MRES-SP PP")
}
record(ao, "$(SYS){$(DEV)-Ax:X}-MRES-SP") {
  field(DTYP, "stream")
  field(DESC, "mm per step in X")
  field(EGU, "mm")
  field(OUT, "@pmac.proto setVar(P804) $(PORT)")
  field(FLNK, "$(SYS){$(DEV)-Ax:X}-MRES-RB")
}
record(ai, "$(SYS){$(DEV)-Ax:X}-MRES-RB") {
  field(DTYP, "stream")
  field(DESC, "mm/step")
  field(EGU, "mm/step")
  field(SCAN, "Passive")
  field(INP, "@pmac.proto getVar(P804) $(PORT)")
  field(PREC, "5")
}

record(ai, "$(SYS){$(DEV)-Ax:Y}-StepsPerUnit-SP") {
  field(DESC, "Steps per mm")
  field(EGU,  "step/mm")
  field(VAL,  "1000")
  field(FLNK, "$(SYS){$(DEV)-Ax:Y}-MRES-Calc")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(calcout, "$(SYS){$(DEV)-Ax:Y}-MRES-Calc") {
  field(INPA, "$(SYS){$(DEV)-Ax:Y}-StepsPerUnit-SP")
  field(CALC, "1 / A")
  field(OUT,  "$(SYS){$(DEV)-Ax:Y}-MRES PP")
}
record(dfanout, "$(SYS){$(DEV)-Ax:Y}-MRES") {
  field(DESC, "MRES resolution Y motors")
  field(SELM, "All")
  field(OUTA, "$(SYS){$(DEV)-Ax:Y+}-Mtr.MRES NPP")
  field(OUTB, "$(SYS){$(DEV)-Ax:Y-}-Mtr.MRES NPP")
  field(OUTC, "$(SYS){$(DEV)-Ax:Y}-MRES-SP PP")
}
record(ao, "$(SYS){$(DEV)-Ax:Y}-MRES-SP") {
  field(DTYP, "stream")
  field(DESC, "mm per step in Y")
  field(EGU, "mm")
  field(OUT, "@pmac.proto setVar(P805) $(PORT)")
  field(FLNK, "$(SYS){$(DEV)-Ax:Y}-MRES-RB")
}
record(ai, "$(SYS){$(DEV)-Ax:Y}-MRES-RB") {
  field(DTYP, "stream")
  field(DESC, "mm/step")
  field(EGU, "mm/step")
  field(SCAN, "Passive")
  field(INP, "@pmac.proto getVar(P805) $(PORT)")
  field(PREC, "5")
}

record(ai, "$(SYS){$(DEV)-Ax:R}-StepsPerUnit-SP") {
  field(DESC, "Steps per Rev")
  field(EGU, "cts")
  field(VAL,  "180000")
  field(FLNK, "$(SYS){$(DEV)-Ax:R}-MRES-Calc")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(calcout, "$(SYS){$(DEV)-Ax:R}-MRES-Calc") {
  field(INPA, "$(SYS){$(DEV)-Ax:R}-StepsPerUnit-SP")
  field(CALC, "360 / A")
  field(OUT,  "$(SYS){$(DEV)-Ax:R}-MRES PP")
}
record(dfanout, "$(SYS){$(DEV)-Ax:R}-MRES") {
  field(DESC, "MRES resolution rotary motors")
  field(SELM, "All")
  field(OUTA, "$(SYS){$(DEV)-Ax:R+}-Mtr.MRES NPP")
  field(OUTB, "$(SYS){$(DEV)-Ax:R-}-Mtr.MRES NPP")
  field(OUTC, "$(SYS){$(DEV)-Ax:R}-MRES-SP PP")
  field(VAL,  "0.002")
  field(PREC, "5")
  field(PINI, "YES")
}
record(ao, "$(SYS){$(DEV)-Ax:R}-MRES-SP") {
  field(DTYP, "stream")
  field(DESC, "Deg per step in R")
  field(EGU, "Deg/stp")
  field(OUT, "@pmac.proto setVar(P801) $(PORT)")
  field(FLNK, "$(SYS){$(DEV)-Ax:R}-MRES-RB")
}
record(ai, "$(SYS){$(DEV)-Ax:R}-MRES-RB") {
  field(DTYP, "stream")
  field(DESC, "deg/step")
  field(EGU, "deg/stp")
  field(SCAN, "Passive")
  field(INP, "@pmac.proto getVar(P801) $(PORT)")
  field(PREC, "5")
}

record(ao, "$(SYS){$(DEV)-Ax:X}-Velo") {
  field(SCAN, "Passive")
  field(VAL,  "2")
  field(DRVH, "10")
  field(DRVL, "0.001")
  field(PREC, "3")
  field(PINI, "YES")
  field(OUT,  "$(SYS){$(DEV)-Ax:X}-Velo-FO PP")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(dfanout, "$(SYS){$(DEV)-Ax:X}-Velo-FO") {
  field(SCAN, "Passive")
  field(DESC, "Speed of X motors")
  field(OUTA, "$(SYS){$(DEV)-Ax:X+}-Mtr.VELO NPP")
  field(OUTB, "$(SYS){$(DEV)-Ax:X-}-Mtr.VELO NPP")
  field(OUTC, "$(SYS){$(DEV)-Ax:X}-Velo-SP PP")
}
record(ao, "$(SYS){$(DEV)-Ax:X}-Velo-SP") {
  field(DTYP, "stream")
  field(DESC, "X velocity")
  field(EGU, "mm/s")
  field(OUT,  "@pmac.proto setVar(P802) $(PORT)")
  field(FLNK,  "$(SYS){$(DEV)-Ax:X}-Velo-RB")
}
record(ai, "$(SYS){$(DEV)-Ax:X}-Velo-RB") {
  field(DTYP, "stream")
  field(DESC, "X velocity")
  field(EGU, "mm/s")
  field(SCAN, "Passive")
  field(INP, "@pmac.proto getVar(P802) $(PORT)")
  field(PREC, "3")
}



record(ao, "$(SYS){$(DEV)-Ax:Y}-Velo") {
  field(SCAN, "Passive")
  field(VAL,  "0.1")
  field(DRVH, "1")
  field(DRVL, "0.001")
  field(PREC, "3")
  field(PINI, "YES")
  field(OUT,  "$(SYS){$(DEV)-Ax:Y}-Velo-FO PP")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(dfanout, "$(SYS){$(DEV)-Ax:Y}-Velo-FO") {
  field(SCAN, "Passive")
  field(DESC, "Speed of Y motors")
  field(OUTA, "$(SYS){$(DEV)-Ax:Y+}-Mtr.VELO NPP")
  field(OUTB, "$(SYS){$(DEV)-Ax:Y-}-Mtr.VELO NPP")
  field(OUTC, "$(SYS){$(DEV)-Ax:Y}-Velo-SP PP")
}
record(ao, "$(SYS){$(DEV)-Ax:Y}-Velo-SP") {
  field(DTYP, "stream")
  field(DESC, "Y velocity")
  field(EGU, "mm/s")
  field(OUT,  "@pmac.proto setVar(P803) $(PORT)")
  field(FLNK,  "$(SYS){$(DEV)-Ax:Y}-Velo-RB")
}
record(ai, "$(SYS){$(DEV)-Ax:Y}-Velo-RB") {
  field(DTYP, "stream")
  field(DESC, "Y velocity")
  field(EGU, "mm/s")
  field(SCAN, "Passive")
  field(INP, "@pmac.proto getVar(P803) $(PORT)")
  field(PREC, "3")
}


record(ao, "$(SYS){$(DEV)-Ax:R}-Velo") {
  field(SCAN, "Passive")
  field(VAL,  "10")
  field(DRVH, "180")
  field(DRVL, "0.001")
  field(PREC, "2")
  field(PINI, "YES")
  field(OUT,  "$(SYS){$(DEV)-Ax:R}-Velo-FO PP")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(dfanout, "$(SYS){$(DEV)-Ax:R}-Velo-FO") {
  field(SCAN, "Passive")
  field(DESC, "Speed of R motors")
  field(OUTA, "$(SYS){$(DEV)-Ax:R+}-Mtr.VELO NPP")
  field(OUTB, "$(SYS){$(DEV)-Ax:R-}-Mtr.VELO NPP")
  field(OUTC, "$(SYS){$(DEV)-Ax:R}-Velo-SP PP")
}
record(ao, "$(SYS){$(DEV)-Ax:R}-Velo-SP") {
  field(DTYP, "stream")
  field(DESC, "R velocity")
  field(EGU, "deg/s")
  field(OUT,  "@pmac.proto setVar(P800) $(PORT)")
  field(FLNK,  "$(SYS){$(DEV)-Ax:R}-Velo-RB")
}
record(ai, "$(SYS){$(DEV)-Ax:R}-Velo-RB") {
  field(DTYP, "stream")
  field(DESC, "R velocity")
  field(EGU, "deg/s")
  field(SCAN, "Passive")
  field(INP, "@pmac.proto getVar(P800) $(PORT)")
  field(PREC, "3")
}


record(ao, "$(SYS){$(DEV)-Ax:R}ScanStart-SP") {
  field(DTYP, "stream")
  field(DESC, "Scan Start Position")
  field(EGU, "deg")
  field(VAL,  "-180")
  field(DRVH, "+360")
  field(DRVL, "-360")
  field(OUT, "@pmac.proto setVar(P811) $(PORT)")
  field(FLNK, "$(SYS){$(DEV)-Ax:R}ScanStart-RB")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(ai, "$(SYS){$(DEV)-Ax:R}ScanStart-RB") {
  field(DTYP, "stream")
  field(DESC, "Scan Start Position")
  field(EGU, "deg")
  field(SCAN, "Passive")
  field(INP, "@pmac.proto getVar(P811) $(PORT)")
  field(PREC, "2")
}

record(ao, "$(SYS){$(DEV)-Ax:R}ScanStop-SP") {
  field(DTYP, "stream")
  field(DESC, "Scan Stop Position")
  field(EGU, "deg")
  field(VAL,  "-180")
  field(DRVH, "+360")
  field(DRVL, "-360")
  field(OUT, "@pmac.proto setVar(P812) $(PORT)")
  field(FLNK, "$(SYS){$(DEV)-Ax:R}ScanStop-RB")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(ai, "$(SYS){$(DEV)-Ax:R}ScanStop-RB") {
  field(DTYP, "stream")
  field(DESC, "Scan Stop Position")
  field(EGU, "deg")
  field(SCAN, "Passive")
  field(INP, "@pmac.proto getVar(P812) $(PORT)")
  field(PREC, "2")
}

record(ao, "$(SYS){$(DEV)-Ax:R}ScanNTriggers-SP") {
  field(DTYP, "stream")
  field(DESC, "Scan Number of Triggers")
  field(VAL,  "11")
  field(DRVH, "1000")
  field(DRVL, "2")
  field(OUT, "@pmac.proto setIntVar(P810) $(PORT)")
  field(FLNK, "$(SYS){$(DEV)-Ax:R}ScanNTriggers-RB")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(ai, "$(SYS){$(DEV)-Ax:R}ScanNTriggers-RB") {
  field(DTYP, "stream")
  field(DESC, "Scan Number of Triggers")
  field(SCAN, "Passive")
  field(INP, "@pmac.proto getIntVar(P810) $(PORT)")
}

record(ao, "$(SYS){$(DEV)-Ax:R}ScanAccelTime-SP") {
  field(DTYP, "stream")
  field(DESC, "Acceleration time")
  field(VAL,  "1")
  field(DRVH, "10")
  field(DRVL, "0.5")
  field(PREC, "9")
  field(OUT, "@pmac.proto setVar(P814) $(PORT)")
  field(FLNK, "$(SYS){$(DEV)-Ax:R}ScanAccelTime-RB")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(ai, "$(SYS){$(DEV)-Ax:R}ScanAccelTime-RB") {
  field(DTYP, "stream")
  field(DESC, "Acceleration time")
  field(SCAN, "Passive")
  field(PREC, "9")
  field(INP, "@pmac.proto getVar(P814) $(PORT)")
}
record(calc, "$(SYS){$(DEV)-Ax:R}TriggerRate") {
  field(SCAN, "Passive")
  field(EGU,  "Hz")
  field(PREC, "1")
  field(INPA, "$(SYS){$(DEV)-Ax:R}-Velo-RB CP")
  field(INPB, "$(SYS){$(DEV)-Ax:R}ScanStart-RB CP")
  field(INPC, "$(SYS){$(DEV)-Ax:R}ScanStop-RB CP")
  field(INPD, "$(SYS){$(DEV)-Ax:R}ScanNTriggers-RB CP")
  field(CALC, " (D - 1) / (ABS(C - B) / A)")
}
record(calc, "$(SYS){$(DEV)-Ax:R}TriggerSpacing") {
  field(SCAN, "Passive")
  field(EGU,  "deg")
  field(PREC, "3")
  field(INPA, "$(SYS){$(DEV)-Ax:R}ScanStart-RB CP")
  field(INPB, "$(SYS){$(DEV)-Ax:R}ScanStop-RB CP")
  field(INPC, "$(SYS){$(DEV)-Ax:R}ScanNTriggers-RB CP")
  field(CALC, "ABS((B - A)) / (C - 1)")
}
record(calc, "$(SYS){$(DEV)-Ax:R}TriggerNExtra") {
  field(SCAN, "Passive")
  field(INPA, "$(SYS){$(DEV)-Ax:R}-Velo-RB CP")
  field(INPB, "$(SYS){$(DEV)-Ax:R}ScanAccelTime-RB CP")
  field(INPC, "$(SYS){$(DEV)-Ax:R}TriggerSpacing CP")
  field(CALC,"ABS(B*A-C*FLOOR(B*A/C)) < C/20 ? FLOOR(ABS(A*B/C+1/10)) : FLOOR(ABS(A*B/C))")
}
record(calc, "$(SYS){$(DEV)-Ax:R}TriggerNTotal") {
  field(SCAN, "Passive")
  field(INPA, "$(SYS){$(DEV)-Ax:R}ScanNTriggers-RB CP")
  field(INPB, "$(SYS){$(DEV)-Ax:R}TriggerNExtra CP")
  field(PINI, "YES")
  field(CALC,"A+2*B")
}


record(bi, "$(SYS){$(DEV)-Ax:X+}Homed") {
  field(DTYP, "stream")
  field(DESC, "#1 homed")
  field(SCAN, "1 second")
  field(INP, "@pmac.proto getIntVar(M145) $(PORT)")
}
record(bi, "$(SYS){$(DEV)-Ax:X-}Homed") {
  field(DTYP, "stream")
  field(DESC, "#2 homed")
  field(SCAN, "1 second")
  field(INP, "@pmac.proto getIntVar(M245) $(PORT)")
}
record(bi, "$(SYS){$(DEV)-Ax:Y+}Homed") {
  field(DTYP, "stream")
  field(DESC, "#3 homed")
  field(SCAN, "1 second")
  field(INP, "@pmac.proto getIntVar(M345) $(PORT)")
}
record(bi, "$(SYS){$(DEV)-Ax:Y-}Homed") {
  field(DTYP, "stream")
  field(DESC, "#4 homed")
  field(SCAN, "1 second")
  field(INP, "@pmac.proto getIntVar(M445) $(PORT)")
}
record(bi, "$(SYS){$(DEV)-Ax:Z+}Homed") {
  field(DTYP, "stream")
  field(DESC, "#5 homed")
  field(SCAN, "1 second")
  field(INP, "@pmac.proto getIntVar(M545) $(PORT)")
}
record(bi, "$(SYS){$(DEV)-Ax:R+}Homed") {
  field(DTYP, "stream")
  field(DESC, "#5 homed")
  field(SCAN, "1 second")
  field(INP, "@pmac.proto getIntVar(M745) $(PORT)")
}
record(bi, "$(SYS){$(DEV)-Ax:R-}Homed") {
  field(DTYP, "stream")
  field(DESC, "#6 homed")
  field(SCAN, "1 second")
  field(INP, "@pmac.proto getIntVar(M845) $(PORT)")
}


record(bi, "$(SYS){$(DEV)-Ax:R}ScanErrNotHomed") {
  field(DTYP, "stream")
  field(DESC, "a motor not homed")
  field(SCAN, "5 second")
  field(INP, "@pmac.proto getIntVar(P860) $(PORT)")
}
record(bi, "$(SYS){$(DEV)-Ax:R}ScanErrTriggerState") {
  field(DTYP, "stream")
  field(DESC, "bad initial trigger state")
  field(SCAN, "5 second")
  field(INP, "@pmac.proto getIntVar(P861) $(PORT)")
}


record(ao, "$(SYS){$(DEV)-Ax:X}ScanStart-SP") {
  field(DTYP, "stream")
  field(DESC, "X Scan Start point")
  field(EGU, "mm")
  field(VAL,  "-10")
  field(DRVH, "50")
  field(DRVL, "-50")
  field(OUT, "@pmac.proto setVar(P1300) $(PORT)")
  field(FLNK, "$(SYS){$(DEV)-Ax:X}ScanStart-RB")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(ai, "$(SYS){$(DEV)-Ax:X}ScanStart-RB") {
  field(DTYP, "stream")
  field(DESC, "X Scan Start point")
  field(EGU, "mm")
  field(SCAN, "Passive")
  field(INP, "@pmac.proto getVar(P1300) $(PORT)")
  field(PREC, "2")
}

record(ao, "$(SYS){$(DEV)-Ax:X}ScanStop-SP") {
  field(DTYP, "stream")
  field(DESC, "X Scan Stop point")
  field(EGU, "mm")
  field(VAL,  "10")
  field(DRVH, "50")
  field(DRVL, "-50")
  field(OUT, "@pmac.proto setVar(P1301) $(PORT)")
  field(FLNK, "$(SYS){$(DEV)-Ax:X}ScanStop-RB")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(ai, "$(SYS){$(DEV)-Ax:X}ScanStop-RB") {
  field(DTYP, "stream")
  field(DESC, "X Scan Stop point")
  field(EGU, "mm")
  field(SCAN, "Passive")
  field(INP, "@pmac.proto getVar(P1301) $(PORT)")
  field(PREC, "2")
}

record(ao, "$(SYS){$(DEV)-Ax:X}ScanNTriggers-SP") {
  field(DTYP, "stream")
  field(DESC, "Number of triggers")
  field(VAL,  "101")
  field(DRVH, "1000")
  field(DRVL, "2")
  field(OUT, "@pmac.proto setIntVar(P1302) $(PORT)")
  field(FLNK, "$(SYS){$(DEV)-Ax:X}ScanNTriggers-RB")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(ai, "$(SYS){$(DEV)-Ax:X}ScanNTriggers-RB") {
  field(DTYP, "stream")
  field(DESC, "Number of triggers")
  field(SCAN, "Passive")
  field(INP, "@pmac.proto getIntVar(P1302) $(PORT)")
}
record(stringout, "$(SYS){$(DEV)-Ax:X}RunScan") {
  field(DESC, "Run the X scan")
  field(DTYP, "stream")
  field(PROC, 1)
  field(VAL, "enaplc13")
  field(OUT, "@pmac.proto sendString() $(PORT)")
}

record(stringout, "$(SYS){$(DEV)-Ax:R}RunScan") {
  field(DESC, "Run the R scan")
  field(DTYP, "stream")
  field(PROC, 1)
  field(VAL, "&5B15R")
  field(OUT, "@pmac.proto sendString() $(PORT)")
}
record(stringout, "$(SYS){$(DEV)-Ax:R}Home") {
  field(DESC, "Run the R Homing PLC")
  field(DTYP, "stream")
  field(PROC, 1)
  field(VAL, "enaplc11")
  field(OUT, "@pmac.proto sendString() $(PORT)")
}


record(stringout, "$(SYS){$(DEV)}ClearPErrors") {
  field(DESC, "Clear P-var error reports")
  field(DTYP, "stream")
  field(PROC, 1)
  field(VAL, "enaplc2")
  field(OUT, "@pmac.proto sendString() $(PORT)")
}



record(ao, "$(SYS){$(DEV)}P100-SP") {
  field(DTYP, "stream")
  field(DESC, "P100 setpoint")
  field(EGU, "cts")
  field(OUT, "@pmac.proto setVar(P100) $(PORT)")
  field(FLNK, "$(SYS){$(DEV)}P100-RB")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}

record(ai, "$(SYS){$(DEV)}P100-RB") {
  field(DTYP, "stream")
  field(DESC, "P100 readback")
  field(SCAN, "Passive")
  field(EGU, "cts")
  field(INP, "@pmac.proto getVar(P100) $(PORT)")
  field(PREC, "2")
}



record (waveform, "$(SYS){$(DEV)}WF-RB") {
  field(SCAN, "1 second")
  field(DTYP, "stream")
  field(INP, "@pmacvector.proto get_vector(P620..639) $(PORT)")
  field(FTVL, "FLOAT")
  field(NELM, "20")
}
