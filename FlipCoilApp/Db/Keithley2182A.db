





record(waveform, "$(SYS){$(DEV)-Keithley}TRAC:DATA") {
  field(DESC, "Trace data")
  field(DTYP, "stream")
  field(INP,  "@keithley.proto fetchTraceData $(PORT)")
  field(EGU,  "V")
  field(PREC, "9")
  field(FTVL, "DOUBLE")
  field("NELM", "1024")
}

record(ao, "$(SYS){$(DEV)-Keithley}TRIG:DEL") {
  field(DESC, "Trigger delay")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setVar(:TRIG:DEL) $(PORT)")
  field(EGU,  "s")
  field(PREC, "3")
  field(VAL,  "0.1")
  field(DRVL, "0")
  field(DRVH, "999999.999")
  field(PINI, "YES")
  field(FLNK, "$(SYS){$(DEV)-Keithley}TRIG:DEL-RBV")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(ai, "$(SYS){$(DEV)-Keithley}TRIG:DEL-RBV") {
  field(DESC, "Trigger delay")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getVar(:TRIG:DEL) $(PORT)")
  field(EGU,  "s")
  field(PREC, "3")
}



record(ao, "$(SYS){$(DEV)-Keithley}TRAC:POINTS") {
  field(DESC, "Sample count")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setVar(:TRAC:POINTS) $(PORT)")
  field(VAL,  "20")
  field(DRVL, "0")
  field(DRVH, "1024")
  field(PINI, "YES")
  field(FLNK, "$(SYS){$(DEV)-Keithley}TRAC:POINTS-RBV")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(ai, "$(SYS){$(DEV)-Keithley}TRAC:POINTS-RBV") {
  field(DESC, "sample count")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getVar(:TRAC:POINTS) $(PORT)")
  field(PINI, "YES")
}

record(ao, "$(SYS){$(DEV)-Keithley}TRIG:COUNT") {
  field(DESC, "Sample count")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setVar(:TRIG:COUNT) $(PORT)")
  field(VAL,  "20")
  field(DRVL, "0")
  field(DRVH, "1024")
  field(PINI, "YES")
  field(FLNK, "$(SYS){$(DEV)-Keithley}TRIG:COUNT-RBV")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(ai, "$(SYS){$(DEV)-Keithley}TRIG:COUNT-RBV") {
  field(DESC, "sample count")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getVar(:TRIG:COUNT) $(PORT)")
  field(PINI, "YES")
}

record(ao, "$(SYS){$(DEV)-Keithley}SAMPLE:COUNT") {
  field(DESC, "Sample count")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setVar(:SAMPLE:COUNT) $(PORT)")
  field(VAL,  "1")
  field(DRVL, "1")
  field(DRVH, "1024")
  field(PINI, "YES")
  field(FLNK, "$(SYS){$(DEV)-Keithley}SAMPLE:COUNT-RBV")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(ai, "$(SYS){$(DEV)-Keithley}SAMPLE:COUNT-RBV") {
  field(DESC, "sample count")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getVar(:SAMPLE:COUNT) $(PORT)")
  field(PINI, "YES")
}


record(mbbo, "$(SYS){$(DEV)-Keithley}TRIG:SOURCE") {
  field(DESC, "Trigger source")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setTrigSrc $(PORT)")
  field(ZRVL, "0")
  field(ZRST, "IMM")
  field(ONVL, "1")
  field(ONST, "EXT")
  field(FLNK, "$(SYS){$(DEV)-Keithley}TRIG:SOURCE-RBV")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(mbbi, "$(SYS){$(DEV)-Keithley}TRIG:SOURCE-RBV") {
  field(DESC, "Trigger source")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getTrigSrc $(PORT)")
  field(ZRVL, "0")
  field(ZRST, "IMM")
  field(ONVL, "1")
  field(ONST, "EXT")
  field(PINI, "YES")
}


record(mbbo, "$(SYS){$(DEV)-Keithley}TRAC:FEED:CONT") {
  field(DESC, "Trac feed")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setFeedCon $(PORT)")
  field(ZRVL, "0")
  field(ZRST, "NEXT")
  field(ONVL, "1")
  field(ONST, "NEVER")
  field(FLNK, "$(SYS){$(DEV)-Keithley}TRAC:FEED:CONT-RBV")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(mbbi, "$(SYS){$(DEV)-Keithley}TRAC:FEED:CONT-RBV") {
  field(DESC, "Trac feed")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getFeedCon $(PORT)")
  field(ZRVL, "0")
  field(ZRST, "NEXT")
  field(ONVL, "1")
  field(ONST, "NEVER")
  field(PINI, "YES")
}

record(mbbo, "$(SYS){$(DEV)-Keithley}TRAC:FEED") {
  field(DESC, "Trac feed")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setFeed $(PORT)")
  field(ZRVL, "0")
  field(ZRST, "NONE")
  field(ONVL, "1")
  field(ONST, "SENS")
  field(TWVL, "2")
  field(TWST, "CALC")
  field(FLNK, "$(SYS){$(DEV)-Keithley}TRAC:FEED-RBV")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(mbbi, "$(SYS){$(DEV)-Keithley}TRAC:FEED-RBV") {
  field(DESC, "Trac feed")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getFeed $(PORT)")
  field(ZRVL, "0")
  field(ZRST, "NONE")
  field(ONVL, "1")
  field(ONST, "SENS")
  field(TWVL, "2")
  field(TWST, "CALC")
  field(PINI, "YES")
}


record(lsi, "$(SYS){$(DEV)-Keithley}IDN") {
  field(DESC, "Keithley ID")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getLSI(*IDN?) $(PORT)")
  field(PINI, "YES")
}

record(bo, "$(SYS){$(DEV)-Keithley}RST") {
  field(DESC, "Keithley Reset")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto cmd(*RST) $(PORT)")
}

record(bo, "$(SYS){$(DEV)-Keithley}INIT:IMM") {
  field(DESC, "Initiate Immediate")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto cmd(:INIT:IMM) $(PORT)")
}

record(bo, "$(SYS){$(DEV)-Keithley}ABORT") {
  field(DESC, "ABORT")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto cmd(:ABOR) $(PORT)")
}

record(bo, "$(SYS){$(DEV)-Keithley}TRAC:CLE") {
  field(DESC, "Trace clear")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto cmd(:TRAC:CLE) $(PORT)")
}



record(ao, "$(SYS){$(DEV)-Keithley}SENS:VOLT:APER") {
  field(DESC, "collection aperture")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setVar(:SENS:VOLT:APER) $(PORT)")
  field(EGU,  "s")
  field(PREC, "6")
  field(VAL,  "0.01667")
  field(DRVL, "0.0001667")
  field(DRVH, "1")
  field(PINI, "YES")
  field(FLNK, "$(SYS){$(DEV)-Keithley}SENS:VOLT:APER-RBV")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(ai, "$(SYS){$(DEV)-Keithley}SENS:VOLT:APER-RBV") {
  field(DESC, "collection aperture")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getVar(:SENS:VOLT:APER) $(PORT)")
  field(EGU,  "s")
  field(PREC, "6")
  field(PINI, "YES")
}



record(mbbo, "$(SYS){$(DEV)-Keithley}SENS:CHAN") {
  field(DESC, "channel")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setChan() $(PORT)")
  field(ZRVL, "0")
  field(ZRST, "1")
  field(ONVL, "1")
  field(ONST, "2")
  field(FLNK, "$(SYS){$(DEV)-Keithley}SENS:CHAN-RBV")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(mbbi, "$(SYS){$(DEV)-Keithley}SENS:CHAN-RBV") {
  field(DESC, "channel")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getChan() $(PORT)")
  field(ZRVL, "0")
  field(ZRST, "1")
  field(ONVL, "1")
  field(ONST, "2")
}

record(bo, "$(SYS){$(DEV)-Keithley}TRIG:DEL:AUTO") {
  field(DESC, "volt dc ratio")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setIntVar(:TRIG:DEL:AUTO) $(PORT)")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(FLNK, "$(SYS){$(DEV)-Keithley}TRIG:DEL:AUTO-RBV")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(bi, "$(SYS){$(DEV)-Keithley}TRIG:DEL:AUTO-RBV") {
  field(DESC, "volt dc ratio")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getIntVar(:TRIG:DEL:AUTO) $(PORT)")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
}

record(bo, "$(SYS){$(DEV)-Keithley}DISP:ENAB") {
  field(DESC, "volt dc ratio")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setIntVar(:DISP:ENAB) $(PORT)")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(FLNK, "$(SYS){$(DEV)-Keithley}DISP:ENAB-RBV")
  field(PINI, "YES")
}
record(bi, "$(SYS){$(DEV)-Keithley}DISP:ENAB-RBV") {
  field(DESC, "volt dc ratio")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getIntVar(:DISP:ENAB) $(PORT)")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
}

record(bo, "$(SYS){$(DEV)-Keithley}SENS:VOLT:DFIL") {
  field(DESC, "volt dc ratio")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setIntVar(:SENS:VOLT:DFIL) $(PORT)")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(FLNK, "$(SYS){$(DEV)-Keithley}SENS:VOLT:DFIL-RBV")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(bi, "$(SYS){$(DEV)-Keithley}SENS:VOLT:DFIL-RBV") {
  field(DESC, "volt dc ratio")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getIntVar(:SENS:VOLT:DFIL) $(PORT)")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
}

record(bo, "$(SYS){$(DEV)-Keithley}SENS:VOLT:LPAS") {
  field(DESC, "volt dc ratio")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setIntVar(:SENS:VOLT:LPAS) $(PORT)")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(FLNK, "$(SYS){$(DEV)-Keithley}SENS:VOLT:LPAS-RBV")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(bi, "$(SYS){$(DEV)-Keithley}SENS:VOLT:LPAS-RBV") {
  field(DESC, "volt dc ratio")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getIntVar(:SENS:VOLT:LPAS) $(PORT)")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
}

record(bo, "$(SYS){$(DEV)-Keithley}SYST:FAZ:STAT") {
  field(DESC, "volt dc ratio")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setIntVar(:SYST:FAZ:STAT) $(PORT)")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(FLNK, "$(SYS){$(DEV)-Keithley}SYST:FAZ:STAT-RBV")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(bi, "$(SYS){$(DEV)-Keithley}SYST:FAZ:STAT-RBV") {
  field(DESC, "volt dc ratio")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getIntVar(:SYST:FAZ:STAT) $(PORT)")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
}

record(bo, "$(SYS){$(DEV)-Keithley}SYST:AZER:STAT") {
  field(DESC, "volt dc ratio")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setIntVar(:SYST:AZER:STAT) $(PORT)")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(FLNK, "$(SYS){$(DEV)-Keithley}SYST:AZER:STAT-RBV")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(bi, "$(SYS){$(DEV)-Keithley}SYST:AZER:STAT-RBV") {
  field(DESC, "volt dc ratio")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getIntVar(:SYST:AZER:STAT) $(PORT)")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
}

record(bo, "$(SYS){$(DEV)-Keithley}SENS:VOLT:DC:DELTA") {
  field(DESC, "volt dc ratio")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setIntVar(:SENS:VOLT:DC:DELTA) $(PORT)")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(FLNK, "$(SYS){$(DEV)-Keithley}SENS:VOLT:DC:DELTA-RBV")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(bi, "$(SYS){$(DEV)-Keithley}SENS:VOLT:DC:DELTA-RBV") {
  field(DESC, "volt dc ratio")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getIntVar(:SENS:VOLT:DC:DELTA) $(PORT)")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
}

record(bo, "$(SYS){$(DEV)-Keithley}SENS:VOLT:DC:RATIO") {
  field(DESC, "volt dc ratio")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setIntVar(:SENS:VOLT:DC:RATIO) $(PORT)")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(FLNK, "$(SYS){$(DEV)-Keithley}SENS:VOLT:DC:RATIO-RBV")
  field(PINI, "YES")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(bi, "$(SYS){$(DEV)-Keithley}SENS:VOLT:DC:RATIO-RBV") {
  field(DESC, "volt dc ratio")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getIntVar(:SENS:VOLT:DC:RATIO) $(PORT)")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
}



record(mbbo, "$(SYS){$(DEV)-Keithley}SENS:VOLT:DIG") {
  field(DESC, "Sens volt digits")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setDig $(PORT)")
  field(ZRVL, "0")
  field(ZRST, "8")
  field(ONVL, "1")
  field(ONST, "7")
  field(TWVL, "2")
  field(TWST, "6")
  field(THVL, "3")
  field(THST, "5")
  field(FRVL, "4")
  field(FRST, "4")
  field(FLNK, "$(SYS){$(DEV)-Keithley}SENS:VOLT:DIG-RBV")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(mbbi, "$(SYS){$(DEV)-Keithley}SENS:VOLT:DIG-RBV") {
  field(DESC, "Sens volt digits")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getDig $(PORT)")
  field(ZRVL, "0")
  field(ZRST, "8")
  field(ONVL, "1")
  field(ONST, "7")
  field(TWVL, "2")
  field(TWST, "6")
  field(THVL, "3")
  field(THST, "5")
  field(FRVL, "4")
  field(FRST, "4")
  field(PINI, "YES")
}

record(mbbo, "$(SYS){$(DEV)-Keithley}SENS:FUNC") {
  field(DESC, "Sens function")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setFunc $(PORT)")
  field(ZRVL, "0")
  field(ZRST, "VOLT:DC")
  field(ONVL, "1")
  field(ONST, "TEMP")
  field(FLNK, "$(SYS){$(DEV)-Keithley}SENS:FUNC-RBV")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(mbbi, "$(SYS){$(DEV)-Keithley}SENS:FUNC-RBV") {
  field(DESC, "Sens function")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getFunc $(PORT)")
  field(ZRVL, "0")
  field(ZRST, "VOLT:DC")
  field(ONVL, "1")
  field(ONST, "TEMP")
  field(PINI, "YES")
}

record(mbbo, "$(SYS){$(DEV)-Keithley}CHAN1:RANG") {
  field(DESC, "Volt range for ch 1")
  field(DTYP, "stream")
  field(OUT,  "@keithley.proto setRange $(PORT)")
  field(ZRVL, "0")
  field(ZRST, "0.01 V")
  field(ONVL, "1")
  field(ONST, "0.1 V")
  field(TWVL, "2")
  field(TWST, "1 V")
  field(THVL, "3")
  field(THST, "10 V")
  field(FRVL, "4")
  field(FRST, "100 V")
  field(FLNK, "$(SYS){$(DEV)-Keithley}CHAN1:RANG-RBV")
  info(autosaveFields_pass0, "VAL")
  info(autosaveFields, "VAL")
}
record(mbbi, "$(SYS){$(DEV)-Keithley}CHAN1:RANG-RBV") {
  field(DESC, "Volt range for ch 1")
  field(DTYP, "stream")
  field(SCAN, "Passive")
  field(INP,  "@keithley.proto getRange $(PORT)")
  field(ZRVL, "0")
  field(ZRST, "0.01 V")
  field(ONVL, "1")
  field(ONST, "0.1 V")
  field(TWVL, "2")
  field(TWST, "1 V")
  field(THVL, "3")
  field(THST, "10 V")
  field(FRVL, "4")
  field(FRST, "100 V")
  field(PINI, "YES")
}

